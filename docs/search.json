[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Amplicon pileup analysis pipeline",
    "section": "",
    "text": "[1/4] Setup environment\nPipeline failures are often due to an improperly configured environment. To ensure a robust and consistent setup for Ampile, I’ve created a dedicated configuration script. To execute the setup:\n\nInstall curl if it is not already installed on your system.\nConnect to internet and execute the below command in terminal:\n\n bash -c \"$(curl -fsSL https://raw.githubusercontent.com/chenh19/Ampile/refs/heads/main/setup.sh)\" \n\n\n\n\n\n\n\n\nNote:\n\n\n\nThis pipeline is dependent on: R, bwa, fastqc, fastp, samtools, bamtools, parallel, r-tidyverse, r-expss, r-filesstrings, r-foreach, r-doParallel. It can be run in Linux, FreeBSD, and MacOS environments.\nThe ampile.sh script will verify that all required packages are installed before proceeding with the analysis.\nThe setup.sh script requires no directory changes, and does not need administrative privileges on Linux.\nThe pipeline has been tested on Debian 12, Ubuntu 24.04, Kubuntu 24.04, KDE Neon 20250616, Linux Mint 22.1, Zorin OS 17.3, Pop!_OS 22.04, Elementary OS 8, Fedora 42, Rocky Linux 10, AlmaLinux 9, RHEL 8 (UChicago Midway3), CentOS 7 (UChicago Midway2), FreeBSD 14.3, and MacOS Sequoia. If you’re using an unsupported OS or prefer an alternative setup method, please ensure that all required dependencies are installed.\n\n\n\n\n\n[2/4] Prepare input files\n\nPrepare reference sequences (.fa files) and sequencing reads (.fastq or .fastq.gz files) in a master folder (you may name the folder as desired):\n\n\n\n\n\nYou may also organize the files into the two designated subfolders, ./1.ref/ and ./2.fastq/:\n\n\n\n\n\n\nNote:\n\n\n\nExample files are provided in the /examples/ folder.\nThe pipeline will automatically organize input files if they are not already in the two designated subfolders.\nThe pipeline will also automatically compress sequencing reads to .fastq.gz if they are provided in .fastq format.\n\n\n\n\n\n[3/4] Running the pipeline\n\nChange current directory to the folder containing the input files. For example: cd ~/Desktop/Ampile/\nConnect to internet and execute the below command in terminal:\n\n bash -c \"$(curl -fsSL https://raw.githubusercontent.com/chenh19/Ampile/refs/heads/main/ampile.sh)\" \n\n\n\n\nAlternatively, you may download the GitHub repository and place all scripts in the /src/ folder along with the input files to run them manually:\n\n\n\n\n\n\nNote:\n\n\n\nAll scripts assume the master folder as the working directory.\nIf you are running the scripts manually on Linux, please don’t forget to load conda environment first: source ~/miniconda3/etc/profile.d/conda.sh && conda activate ampile\n\n\n\n\n\n[4/4] Done\n\n\n\n\n\n\n\nYou may further analyze the parsed mutation rates and perform comparative analyses between groups. The corresponding spreadsheets are located at ./3.analysis/8.spreadsheets/2.mutation_rates/.\n\n\n\nNote:\n\n\n\nThe directories ./3.analysis/1.refseq/, ./3.analysis/2.trim/, ./3.analysis/3.bam/, and ./3.analysis/4.mpileup/ contain large intermediate files. You may choose to delete them unless you need them for troubleshooting."
  }
]